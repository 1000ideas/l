<% title t('.title') %>

<%= content_tag(:p, flash[:notice], class: :notice) if flash.key? :notice %>
<%= content_tag(:p, flash[:alert], class: :alert) if flash.key? :alert %>

<% begin %>
<%= render('filter')  %>
<% rescue ActionView::MissingTemplate %>
<% end %>


<%= render partial: 'l/partials/switcher', object: @users %>

<% if @users.any? %>
<%= form_for :selection, url: [:selection, :admin, :users], html: {method: :post} do |f| %>
<ul class="items-list two-columns" data-page="<%= @users.current_page %>">
  <li class="header">
    <div class="group">
      <div><%= User.human_attribute_name :email %></div>
      <div><%= User.human_attribute_name :role %></div>
    </div>
  </li>
  <% @users.each do |user| %>
  <li>
    <div class="group" data-context="true">
      <div class="select"><%= f.check_box :ids, {multiple: true}, user.id, nil %></div>
      <div><%= user.email %></div>
      <div><%= user.human_role %></div>
      <a href="#" data-context-button="true"></a>
      <div class="options" data-context-target="true">
        <%= link_to t('helpers.actions.show'), admin_user_path(user), class: "show", title: t('helpers.actions.show'), target: '_blank' %>
        <%= link_to t('helpers.actions.edit'), edit_admin_user_path(user), class: "edit", title: t('helpers.actions.edit') %>
        <%= link_to t('helpers.actions.destroy'), admin_user_path(user), class: "destroy", title: t('helpers.actions.destroy'),
          data: {confirm: t('helpers.actions.confirm'), method: :delete } %>
      </div>
    </div>
  </li>
  <% end %>
</ul>

<%= f.select :action, User.mass_actions_for_select, include_blank: t('prompt', scope: [:helpers, :mass]) %>
<% end %>
<%= will_paginate @news %>
<% end %>
